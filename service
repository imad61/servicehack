function updatemod(){
var ru  = new java.lang.Runnable({
                    run: function() {
                        try {
toast("Installing Servicehack...", 1);
                        	var newScript;
/*
var text = new java.io.ByteArrayOutputStream();
var response = android.net.http.AndroidHttpClient.newInstance("CheckForUpdates()").execute(new org.apache.http.client.methods.HttpGet("https://raw.githubusercontent.com/Godsoft029/servicehack/master/service")).getEntity().writeTo(text);
text.close();
*/
                        	 var ctx = com.mojang.minecraftpe.MainActivity.currentMainActivity.get();
                            var u = new java.net.URL("https://raw.githubusercontent.com/Godsoft029/servicehack/master/update");
                            var c = u.openConnection();
                            c.setRequestMethod("GET");
                            c.setDoOutput(true);
                            c.connect();
                            c.getContentLength();
                            var input = c.getInputStream();
                            var contents = java.lang.reflect.Array.newInstance(java.lang.Byte.TYPE, 1024);
                            var bytesRead = 0;
var dercode = new java.lang.StringBuilder();
                            while((bytesRead = input.read(contents)) != -1) { 
dercode.append(new java.lang.String(contents, 0, bytesRead));
                                /*newScript += new java.lang.String(contents, 0, bytesRead); */              
                            }

                            var thecode = dercode.toString().split("undefined")[1];
                            var patchesFolder = ctx.getDir("modscripts", 0);
                            var scriptFile = new java.io.File(patchesFolder, "servicehack");
                            var printWriter = new java.io.PrintWriter(scriptFile);
                            printWriter.write(thecode);
                            printWriter.flush();
                            printWriter.close();
                            try {
                                net.zhuoweizhang.mcpelauncher.ScriptManager.setEnabled(scriptFile, false);
                                net.zhuoweizhang.mcpelauncher.ScriptManager.setEnabled(scriptFile, true);
								toast("New Version saved as 'servicehack'", 10);
                            }
                            catch(e) {
                                toast("Error during installation Progress!", 2);
                            }
                        }
                        catch(e) {

                        }
                    }
                });
                var th = new java.lang.Thread(ru);
                th.start();

}
updatemod();
